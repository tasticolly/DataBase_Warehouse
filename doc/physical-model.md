
# Физическая модель



### Таблица `item`:
Содержит информацию о товарах, которые есть на складах или которые можно закзать. Связана с таблицей поставщиков отношением многие к одному.

| Название        | Описание           | Тип данных     | Ограничение   |
|-----------------|--------------------|----------------|---------------|
| `item_id`       | Идентификатор товара  | `INTEGER`      | `PRIMARY KEY` |
| `name`          | Название товара    | `VARCHAR(200)` | `NOT NULL`    |
| `description`   | Описание товара    | `VARCHAR(200)` | `NOT NULL`    |
| `cost`          |Стоимость единицы товара | `FLOAT` | `NOT NULL`    |
| `provider_id`   | Идентефикатор поставщика    | `INTEGER`      | `FOREIGN KEY`    |

### Таблица `provider`:
Информация о поставщиках, содержит контакты, адрес, пр. информацию,  а также поля соответсвующие началу работы с каком-либо поставщиком и концу работы(в случае если с этим поставщиком компания больше не сотрудничает). Это версионная `SCD 2` таблица.

| Название             | Описание                                         | Тип данных     | Ограничение   |
|----------------------|--------------------------------------------------|----------------|---------------|
| `provider_id`        | Идентификатор поставщика      | `INTEGER`      | `PRIMARY KEY` |
| `provider_name`      | Название компании поставщика  | `VARCHAR(100)` | `NOT NULL`    |
| `contact_person`     | Контактное лицо               | `VARCHAR(200)`      | `NOT NULL`    |
| `telephone`          | Номер телефона                | `VARCHAR(200)`      | `NOT NULL`    |
| `email`              | Электронная почта             | `VARCHAR(200)`      | `NOT NULL`    |
| `banking_details`    | Банковские реквизиты          | `VARCHAR(200)`      | `NOT NULL`    |
| `valid_from`         | Начало даты сотрудничества    | `TIMESTAMP`      | `NOT NULL`    |
| `valid_to`           | Конец даты сотрудничества     | `TIMESTAMP`      | `NOT NULL`    |

### Таблица `order`:
Таблица содержит информацию о заках товаров у поставщиков. Связана с поставщиками отношением многие к одному.

| Название    | Описание                        | Тип данных  | Ограничение   |
|-------------|---------------------------------|-------------|---------------|
| `order_id`    | Идентификатор заказа         | `INTEGER`   | `PRIMARY KEY` |
| `date`     | Дата заказа       | `TIMESTAMP`   | `NOT NULL` |
| `provider_id`     | Идентификатор  поставщика          | `INTEGER`   | `FOREIGN KEY` |
| `cost_summary` | Сумма заказа                 | `FLOAT` | `NOT NULL`    |

### Таблица `warehouse`:
Таблица складов. Содержит названание, адресс и количество оставшегося места. Связана с таблиецей `goods` отношением многие ко многим, поэтому, чтобы БД была в НФ, используется вспомогательная таблица `goods_in_warehouse`.

| Название             | Описание                                         | Тип данных     | Ограничение   |
|----------------------|--------------------------------------------------|----------------|---------------|
| `warehouse_id`        | Идентификатор склада      | `INTEGER`      | `PRIMARY KEY` |
| `warehouse_name`      | Название склада  | `VARCHAR(200)` | `NOT NULL`    |
| `address`     | Адрес склада              | `VARCHAR(200)`      | `NOT NULL`    |
| `space_left`          | Объем оставшегося места              | `FLOAT`      | `NOT NULL`    |

### Таблица `shipment`:
Таблица содержит основную информацию об отгрузках со склада: номер накладной, дату отгрузки, сумму накладной и т.д. Связана отношением многие к одному с таблицей `warehouses`, а также многие ко многим с таблицей `goods`.

| Название             | Описание                                         | Тип данных     | Ограничение   |
|----------------------|--------------------------------------------------|----------------|---------------|
| `waybill_id`        | Идентификатор накладной      | `INTEGER`      | `PRIMARY KEY` |
| `date`      | Дата отгрузки  | `TIMESTAMP` | `NOT NULL`    |
| `warehouse_id`     | Идентефикатор склада отгрузки               | `INTEGER`      | `FOREIGN KEY`    |
| `cost_summary`          | Сумма в накладной                | `FLOAT`      | `NOT NULL`    |

### Таблица `goods_in_shipments`:
Вспомогательная таблица, является связующим звеном между таблицей товаров и отгрузок

| Название             | Описание                                         | Тип данных     | Ограничение   |
|----------------------|--------------------------------------------------|----------------|---------------|
| `waybill_id`        | Идентификатор накладной      | `INTEGER`      | `PRIMARY KEY, FOREIGN KEY` |
| `item_id`      | Идентификатор товара  | `INTEGER` | `PRIMARY KEY, FOREIGN KEY`    |

### Таблица `goods_in_order`:
Вспомогательная таблица, является связующим звеном между таблицей товаров и заказов

| Название             | Описание                                         | Тип данных     | Ограничение   |
|----------------------|--------------------------------------------------|----------------|---------------|
| `order_id`        | Идентификатор заказа на поставку      | `INTEGER`      | `PRIMARY KEY, FOREIGN KEY` |
| `item_id`      | Идентификатор товара  | `INTEGER` | `PRIMARY KEY, FOREIGN KEY`    |

### Таблица `goods_in_warehouse`:
Вспомогательная таблица, является связующим звеном между таблицей товаров и складов

| Название             | Описание                                         | Тип данных     | Ограничение   |
|----------------------|--------------------------------------------------|----------------|---------------|
| `warehouse_id`        | Идентификатор накладной      | `INTEGER`      | `PRIMARY KEY, FOREIGN KEY` |
| `item_id`      | Дата отгрузки  | `INTEGER` | `PRIMARY KEY, FOREIGN KEY`    |
| `item_count`     | Идентефикатор склада отгрузки               | `INTEGER`      | `NOT NULL`    |


---

Таблица в 2 НФ


